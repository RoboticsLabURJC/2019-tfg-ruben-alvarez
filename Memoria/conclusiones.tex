\chapter{Conclusiones}
\label{chap:conclusiones}

Tras detallar las mejoras aportadas a \textit{WebSim}, en este capítulo se recopilan los objetivos alcanzados, se valoran los conocimientos adquiridos y se exponen las posibles líneas de mejora y extensión de la plataforma. 

\section{Conclusiones}
\label{sec:conclusiones}
El objetivo general de mejorar el entorno docente basado en \textit{WebSim} se ha conseguido ampliamente y con éxito en todos los frentes. Los dos más importantes son el soporte para drones y la programación de infraestructura para ejercicios competitivos en la plataforma. 

El primer subobjetivo consistía en añadir soporte a \textit{drone} en \textit{WebSim}. En la sección \ref{sec:drone} se explica como se ha llevado a cabo aportando el modelo en 3D, \textit{drivers} y bloques para las nuevas funciones. Gracias a ello \textit{WebSim} soporta ahora la programación realista de \textit{drones}, que además de controlables en velocidad de giro y avance, como los robots en tierra, lo son también en velocidad de ascenso y descenso. Igualmente se han incluido órdenes de despegue y aterrizaje. Las físicas se han extendido para materializar movimiento en 3D incluyendo el efecto de la gravedad. \\

El segundo subobjetivo consistía en añadir teleoperadores, que se explica en la sección \ref{sec:teleoperadores} y, además, se han creado archivos de configuración para poder cambiar de escenario y facilitar así su integración en servidor. Estos teleoperadores son útiles principalmente para probar y depurar el soporte a los nuevos robots en \textit{WebSim}. \\
%En esta sección también se muestran los nuevos modelos creados (Fórmula 1 y mBot).

El tercer subobjetivo era incluir más ejercicios a \textit{WebSim} y mejorar los existentes. Se han explicado en la sección \ref{sec:escenarios} y otorga a la plataforma el poder realizar nuevos ejercicios como choca-gira (subsección \ref{subsec:chocagira}), sigue-pelota (subsección \ref{subsec:pelota} ) y atraviesa-bosque (subsección \ref{subsec:atraviesabosque}).  Para todos ellos se ha creado un mundo 3D con sus objetos, obstáculos, físicas activadas, etc. \\

El último subobjetivo, ejercicios competitivos, se ha descrito en la sección \ref{sec:competitive}. Para estos ejercicios se ha llevado a cabo una refactorización que se explica en la subsección \ref{subsec:arquitectura}. En esta refactorización se separan los hilos de la simulación, robot y editor dando la posibilidad de crear más de un robot en el mismo escenario, parar la simulación y reanudarla después de haber cambiado el código y crear un hilo que tenga acceso a los sensores de los robots para evaluar su comportamiento. Para su correcto funcionamiento se han refactorizado también todos editores disponibles y se han creado editores para los ejercicios competitivos, que da la posibilidad de elegir que \textit{robot} programar. 


Se han incorporado dos robots a este tipo de ejercicios (a excepción del ejercicio gato-ratón) incluyendo un nuevo modelo de Fórmula 1 y de \textit{drone} e incorporando un evaluador automático por cada ejercicio. Estos evaluadores pueden acceder a todos los sensores de los robots, pero se han desarrollado para que accedan a su posición y muestren el porcentaje recorrido del circuito (en los ejercicios sigue-líneas o atraviesa-bosque) o la distancia con otro \textit{robot} (en el ejercicio gato-ratón). \\

% %reescribir este párrafo
% Además, en el desarrollo de este proyecto, se ha llevado a cabo una refactorización de \textit{WebSim} actualizando así la aplicación a la versión \textit{WebSim 2.0}. En esta versión se separan los hilos de cerebro, simulador y editor dando la posibilidad de crear más de un robot en la misma escena, cambiar el código del robot en la simulación o, incluso, parar la simulación y reanudarla después con un código distinto. Se ha formado parte de ella con elementos como \textit{brains}, que ejecuta la inteligencia de los \textit{robots} que haya en el mundo; refactorizando los editores disponibles (editor \textit{JavaScript}, editor \textit{Scratch}, editor competitivo \textit{JavaScript}, editor competitivo \textit{Scratch} y teleoperadores) para su correcto funcionamiento y realizando pruebas y ajustes para optimizar el rendimiento de la aplicación.

\section{Mejoras futuras}
\label{sec:mejoras_futuras}

Como mejoras futuras se pueden contemplar las siguientes:
\begin{itemize}
    \item Añadir nuevos modelos de \textit{robots} como la aspiradora robótica \textit{Roomba} o un \textit{robot} con pinzas. 
    \item Añadir más ejercicios a la plataforma, por ejemplo aparcamiento automático o uno basado en coger objetos del entorno. Para ello habrá que construir nuevos escenarios y evaluadores automáticos. 
    \item Explorar el uso de \textit{WebWorkers} en los cerebros para optimizar el rendimiento de \textit{WebSim}. Los \textit{WebWorkers} se pueden ejecutar en diferentes \textit{cores} de la \textit{CPU} del ordenador.
    \item Establecer un control en posición modificando la arquitectura de cómputo. Actualmente el control de posición es bloqueante (órdenes como \textit{avanza 1 metro} lleva un tiempo completarse) frente al control en velocidad que no es bloqueante, que es el que hay implementado. Este carácter bloqueante altera la arquitectura de cómputo de \textit{JavaScript} que tiene \textit{WebSim} actualmente.
\end{itemize}