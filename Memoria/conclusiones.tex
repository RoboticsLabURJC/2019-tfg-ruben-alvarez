\chapter{Conclusiones}
\label{chap:conclusiones}

Tras detallar las mejoras aportadas a \textit{WebSim}, en este capítulo se recopilan los objetivos alcanzados, se valoran los conocimientos adquiridos y se exponen las posibles líneas de mejora y extensión de la plataforma. 

\section{Conclusiones}
\label{sec:conclusiones}
El objetivo general de mejorar el entorno docente basado en \textit{WebSim} se ha conseguido ampliamente y con éxito en todos los frentes. Los dos más importantes son el soporte para \textit{drones} y la programación de la infraestructura para ejercicios competitivos en la plataforma. 

El primer subobjetivo consistía en añadir soporte a \textit{drone} en \textit{WebSim}. En la sección \ref{sec:drone} se explica como se ha llevado a cabo aportando el modelo en 3D, \textit{drivers} y bloques para las nuevas funciones. Gracias a ello \textit{WebSim} soporta ahora la programación realista de \textit{drones}, que además de controlables en velocidad de giro y avance, como los robots en tierra, lo son también en velocidad de ascenso y descenso. Igualmente se han incluido órdenes de despegue y aterrizaje. Las físicas se han extendido para materializar movimiento en 3D incluyendo el efecto de la gravedad. También se han creado nuevos modelos de robots como fórmula 1 o \textit{mBot}, que se detallan en la subsección \ref{subsec:nuevosrobots}.\\

El segundo subobjetivo consistía en añadir teleoperadores, que se explica en la sección \ref{sec:teleoperadores} y, además, se han creado archivos de configuración para poder cambiar de escenario y facilitar así su integración en servidor. Estos teleoperadores son útiles principalmente para probar y depurar el soporte a los nuevos robots en \textit{WebSim}.\\

El tercer subobjetivo era incluir más ejercicios a \textit{WebSim} y mejorar los existentes. Se han explicado en la sección \ref{sec:escenarios} y otorga a la plataforma el poder realizar nuevos ejercicios como choca-gira (subsección \ref{subsec:chocagira}), sigue-pelota (subsección \ref{subsec:pelota} ) y atraviesa-bosque (subsección \ref{subsec:atraviesabosque}).  Para todos ellos se ha creado un mundo 3D con sus objetos, obstáculos, físicas activadas, etc. \\

El último subobjetivo, ejercicios competitivos, se ha descrito en la sección \ref{sec:competitive}. Para estos ejercicios se ha llevado a cabo una refactorización que se explica en la subsección \ref{subsec:arquitectura}. En esta nueva arquitectura se separan los hilos de la simulación, robot y editor dando la posibilidad de crear más de un robot en el mismo escenario, parar la simulación y reanudarla después de haber cambiado el código y crear un hilo que tenga acceso a los sensores de los robots para evaluar su comportamiento. Para su correcto funcionamiento se han refactorizado también todos editores disponibles y se han creado nuevos para los ejercicios competitivos, que se diferencian de los que había disponibles en la interfaz gráfica y que dan la posibilidad de elegir que \textit{robot} programar.

Para estos ejercicios se ha hecho uso de los \textit{robots} creados en en la subsección \ref{subsec:nuevosrobots} y se ha incorporado un evaluador automático por cada ejercicio. Pueden acceder a todos los sensores de los \textit{robots}, pero se han desarrollado para que accedan a su posición y muestren el porcentaje recorrido del circuito (ejercicios sigue-líneas y atraviesa-bosque) o la distancia con otro \textit{robot} (ejercicio gato-ratón). \\

\section{Mejoras futuras}
\label{sec:mejoras_futuras}

El desarrollo de este trabajo ha supuesto un progreso para \textit{WebSim}, pero aún hay muchas posibles vías de desarrollo para su mejora:

\begin{itemize}
    \item Añadir nuevos modelos de \textit{robots} como la aspiradora robótica \textit{Roomba} o un \textit{robot} con pinzas. 
    \item Añadir más ejercicios a la plataforma, por ejemplo aparcamiento automático o uno basado en coger objetos del entorno. Para ello habrá que construir nuevos escenarios y evaluadores automáticos. 
    \item Explorar el uso de \textit{WebWorkers} en los cerebros para optimizar el rendimiento de \textit{WebSim}. Los \textit{WebWorkers} se pueden ejecutar en diferentes \textit{cores} de la \textit{CPU} del ordenador.
    \item Explorar la gravedad que simula \textit{A-Frame} para que la simulación sea más realista cuando hay un \textit{drone} en el escenario. 
    \item Establecer un control en posición modificando la arquitectura de cómputo. Actualmente el control de posición es bloqueante (órdenes como ``\textit{avanza 1 metro}'' lleva un tiempo completarse) frente al control en velocidad que no es bloqueante, que es el que hay implementado. Este carácter bloqueante altera la arquitectura de cómputo de \textit{JavaScript} que tiene \textit{WebSim} actualmente.
\end{itemize}